<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Catálogo - Buy & Bring</title>
    <link rel="stylesheet" href="static/styles.css" />
  </head>
  <body>
    <header>
      <div class="logo">
        <img src="static/logo_buyandbring.png" alt="Buy & Bring Logo" />
      </div>
      <nav>
        <a href="/">Inicio</a>
        <a href="catalogo.html" class="active">Catálogo</a>
        <a href="#contacto">Contacto</a>
      </nav>
    </header>
    <main>
      <div class="catalogo-header">
        <h1>Catálogo</h1>
        <div class="dropdown" id="dropdownMarcas">
          <button class="dropdown-btn" id="dropdownBtn">Marcas ▼</button>
          <div class="dropdown-content" id="dropdownContent">
            <a href="#" data-marca="alo">Alo</a>
            <a href="#" data-marca="lululemon">Lululemon</a>
            <a href="#" data-marca="oncloud">OnCloud</a>
            <a href="#" data-marca="gucci">Gucci</a>
            <a href="#" data-marca="hermes">Hermès</a>
            <a href="#" data-marca="dior">Christian Dior</a>
            <a href="#" data-marca="lv">Louis Vuitton</a>
            <a href="#" data-marca="gg">Golden Goose</a>
            <a href="#" data-marca="amiri">Amiri</a>
            <a href="#" data-marca="nb">New Balance</a>
          </div>
        </div>
      </div>

      <div id="marca-alo" class="marca-section active">
        <h2>Alo</h2>
        <div class="carrusel-section">
          <div class="carrusel-title">Lo más nuevo</div>
          <div class="carrusel">
            <button
              class="carrusel-btn"
              data-carrusel="alo-nuevo"
              data-dir="prev"
            >
              &lt;
            </button>
            <div class="carrusel-imgs" id="alo-nuevo"></div>
            <button
              class="carrusel-btn"
              data-carrusel="alo-nuevo"
              data-dir="next"
            >
              &gt;
            </button>
          </div>
        </div>
        <div class="carrusel-section">
          <div class="carrusel-title">Lo más vendido</div>
          <div class="carrusel">
            <button
              class="carrusel-btn"
              data-carrusel="alo-destacado"
              data-dir="prev"
            >
              &lt;
            </button>
            <div class="carrusel-imgs" id="alo-destacado"></div>
            <button
              class="carrusel-btn"
              data-carrusel="alo-destacado"
              data-dir="next"
            >
              &gt;
            </button>
          </div>
        </div>
        <div class="carrusel-section">
          <div class="carrusel-title">Entrega inmediata</div>
          <div class="carrusel">
            <button
              class="carrusel-btn"
              data-carrusel="alo-stock"
              data-dir="prev"
            >
              &lt;
            </button>
            <div class="carrusel-imgs" id="alo-stock"></div>
            <button
              class="carrusel-btn"
              data-carrusel="alo-stock"
              data-dir="next"
            >
              &gt;
            </button>
          </div>
        </div>
      </div>

      <!-- Lululemon -->
      <div id="marca-lululemon" class="marca-section">
        <h2>Lululemon</h2>
        <div class="carrusel-section">
          <div class="carrusel-title">Lo más nuevo</div>
          <div class="carrusel">
            <button
              class="carrusel-btn"
              data-carrusel="lululemon-nuevo"
              data-dir="prev"
            >
              &lt;
            </button>
            <div class="carrusel-imgs" id="lululemon-nuevo"></div>
            <button
              class="carrusel-btn"
              data-carrusel="lululemon-nuevo"
              data-dir="next"
            >
              &gt;
            </button>
          </div>
        </div>
        <div class="carrusel-section">
          <div class="carrusel-title">Lo más vendido</div>
          <div class="carrusel">
            <button
              class="carrusel-btn"
              data-carrusel="lululemon-destacado"
              data-dir="prev"
            >
              &lt;
            </button>
            <div class="carrusel-imgs" id="lululemon-destacado"></div>
            <button
              class="carrusel-btn"
              data-carrusel="lululemon-destacado"
              data-dir="next"
            >
              &gt;
            </button>
          </div>
        </div>
        <div class="carrusel-section">
          <div class="carrusel-title">Entrega inmediata</div>
          <div class="carrusel">
            <button
              class="carrusel-btn"
              data-carrusel="lululemon-stock"
              data-dir="prev"
            >
              &lt;
            </button>
            <div class="carrusel-imgs" id="lululemon-stock"></div>
            <button
              class="carrusel-btn"
              data-carrusel="lululemon-stock"
              data-dir="next"
            >
              &gt;
            </button>
          </div>
        </div>
      </div>

      <!-- OnCloud -->
      <div id="marca-oncloud" class="marca-section">
        <h2>OnCloud</h2>
        <div class="carrusel-section">
          <div class="carrusel-title">Lo más nuevo</div>
          <div class="carrusel">
            <button
              class="carrusel-btn"
              data-carrusel="oncloud-nuevo"
              data-dir="prev"
            >
              &lt;
            </button>
            <div class="carrusel-imgs" id="oncloud-nuevo"></div>
            <button
              class="carrusel-btn"
              data-carrusel="oncloud-nuevo"
              data-dir="next"
            >
              &gt;
            </button>
          </div>
        </div>
        <div class="carrusel-section">
          <div class="carrusel-title">Lo más vendido</div>
          <div class="carrusel">
            <button
              class="carrusel-btn"
              data-carrusel="oncloud-destacado"
              data-dir="prev"
            >
              &lt;
            </button>
            <div class="carrusel-imgs" id="oncloud-destacado"></div>
            <button
              class="carrusel-btn"
              data-carrusel="oncloud-destacado"
              data-dir="next"
            >
              &gt;
            </button>
          </div>
        </div>
        <div class="carrusel-section">
          <div class="carrusel-title">Entrega inmediata</div>
          <div class="carrusel">
            <button
              class="carrusel-btn"
              data-carrusel="oncloud-stock"
              data-dir="prev"
            >
              &lt;
            </button>
            <div class="carrusel-imgs" id="oncloud-stock"></div>
            <button
              class="carrusel-btn"
              data-carrusel="oncloud-stock"
              data-dir="next"
            >
              &gt;
            </button>
          </div>
        </div>
      </div>

      <!-- Gucci -->
      <div id="marca-gucci" class="marca-section">
        <h2>Gucci</h2>
        <div class="carrusel-section">
          <div class="carrusel-title">Lo más nuevo</div>
          <div class="carrusel">
            <button
              class="carrusel-btn"
              data-carrusel="gucci-nuevo"
              data-dir="prev"
            >
              &lt;
            </button>
            <div class="carrusel-imgs" id="gucci-nuevo"></div>
            <button
              class="carrusel-btn"
              data-carrusel="gucci-nuevo"
              data-dir="next"
            >
              &gt;
            </button>
          </div>
        </div>
        <div class="carrusel-section">
          <div class="carrusel-title">Lo más vendido</div>
          <div class="carrusel">
            <button
              class="carrusel-btn"
              data-carrusel="gucci-destacado"
              data-dir="prev"
            >
              &lt;
            </button>
            <div class="carrusel-imgs" id="gucci-destacado"></div>
            <button
              class="carrusel-btn"
              data-carrusel="gucci-destacado"
              data-dir="next"
            >
              &gt;
            </button>
          </div>
        </div>
        <div class="carrusel-section">
          <div class="carrusel-title">Entrega inmediata</div>
          <div class="carrusel">
            <button
              class="carrusel-btn"
              data-carrusel="gucci-desc"
              data-dir="prev"
            >
              &lt;
            </button>
            <div class="carrusel-imgs" id="gucci-stock"></div>
            <button
              class="carrusel-btn"
              data-carrusel="gucci-desc"
              data-dir="next"
            >
              &gt;
            </button>
          </div>
        </div>
      </div>

      <!-- Hermès -->
      <div id="marca-hermes" class="marca-section">
        <h2>Hermès</h2>
        <div class="carrusel-section">
          <div class="carrusel-title">Lo más nuevo</div>
          <div class="carrusel">
            <button
              class="carrusel-btn"
              data-carrusel="hermes-nuevo"
              data-dir="prev"
            >
              &lt;
            </button>
            <div class="carrusel-imgs" id="hermes-nuevo"></div>
            <button
              class="carrusel-btn"
              data-carrusel="hermes-nuevo"
              data-dir="next"
            >
              &gt;
            </button>
          </div>
        </div>
        <div class="carrusel-section">
          <div class="carrusel-title">Lo más vendido</div>
          <div class="carrusel">
            <button
              class="carrusel-btn"
              data-carrusel="hermes-destacado"
              data-dir="prev"
            >
              &lt;
            </button>
            <div class="carrusel-imgs" id="hermes-destacado"></div>
            <button
              class="carrusel-btn"
              data-carrusel="hermes-destacado"
              data-dir="next"
            >
              &gt;
            </button>
          </div>
        </div>
        <div class="carrusel-section">
          <div class="carrusel-title">Entrega inmediata</div>
          <div class="carrusel">
            <button
              class="carrusel-btn"
              data-carrusel="hermes-stock"
              data-dir="prev"
            >
              &lt;
            </button>
            <div class="carrusel-imgs" id="hermes-stock"></div>
            <button
              class="carrusel-btn"
              data-carrusel="hermes-stock"
              data-dir="next"
            >
              &gt;
            </button>
          </div>
        </div>
      </div>

      <!-- Christian Dior -->
      <div id="marca-dior" class="marca-section">
        <h2>Christian Dior</h2>
        <div class="carrusel-section">
          <div class="carrusel-title">Lo más nuevo</div>
          <div class="carrusel">
            <button
              class="carrusel-btn"
              data-carrusel="dior-nuevo"
              data-dir="prev"
            >
              &lt;
            </button>
            <div class="carrusel-imgs" id="dior-nuevo"></div>
            <button
              class="carrusel-btn"
              data-carrusel="dior-nuevo"
              data-dir="next"
            >
              &gt;
            </button>
          </div>
        </div>
        <div class="carrusel-section">
          <div class="carrusel-title">Lo más vendido</div>
          <div class="carrusel">
            <button
              class="carrusel-btn"
              data-carrusel="dior-destacado"
              data-dir="prev"
            >
              &lt;
            </button>
            <div class="carrusel-imgs" id="dior-destacado"></div>
            <button
              class="carrusel-btn"
              data-carrusel="dior-destacado"
              data-dir="next"
            >
              &gt;
            </button>
          </div>
        </div>
        <div class="carrusel-section">
          <div class="carrusel-title">Entrega inmediata</div>
          <div class="carrusel">
            <button
              class="carrusel-btn"
              data-carrusel="dior-stock"
              data-dir="prev"
            >
              &lt;
            </button>
            <div class="carrusel-imgs" id="dior-stock"></div>
            <button
              class="carrusel-btn"
              data-carrusel="dior-stock"
              data-dir="next"
            >
              &gt;
            </button>
          </div>
        </div>
      </div>

      <!-- Louis Vuitton -->
      <div id="marca-lv" class="marca-section">
        <h2>Louis Vuitton</h2>
        <div class="carrusel-section">
          <div class="carrusel-title">Lo más nuevo</div>
          <div class="carrusel">
            <button
              class="carrusel-btn"
              data-carrusel="lv-nuevo"
              data-dir="prev"
            >
              &lt;
            </button>
            <div class="carrusel-imgs" id="lv-nuevo"></div>
            <button
              class="carrusel-btn"
              data-carrusel="lv-nuevo"
              data-dir="next"
            >
              &gt;
            </button>
          </div>
        </div>
        <div class="carrusel-section">
          <div class="carrusel-title">Lo más vendido</div>
          <div class="carrusel">
            <button
              class="carrusel-btn"
              data-carrusel="lv-destacado"
              data-dir="prev"
            >
              &lt;
            </button>
            <div class="carrusel-imgs" id="lv-destacado"></div>
            <button
              class="carrusel-btn"
              data-carrusel="lv-destacado"
              data-dir="next"
            >
              &gt;
            </button>
          </div>
        </div>
        <div class="carrusel-section">
          <div class="carrusel-title">Entrega inmediata</div>
          <div class="carrusel">
            <button
              class="carrusel-btn"
              data-carrusel="lv-stock"
              data-dir="prev"
            >
              &lt;
            </button>
            <div class="carrusel-imgs" id="lv-stock"></div>
            <button
              class="carrusel-btn"
              data-carrusel="lv-stock"
              data-dir="next"
            >
              &gt;
            </button>
          </div>
        </div>
      </div>

      <!-- Golgen Goose -->
      <div id="marca-gg" class="marca-section">
        <h2>Golden Goose</h2>
        <div class="carrusel-section">
          <div class="carrusel-title">Lo más nuevo</div>
          <div class="carrusel">
            <button
              class="carrusel-btn"
              data-carrusel="gg-nuevo"
              data-dir="prev"
            >
              &lt;
            </button>
            <div class="carrusel-imgs" id="gg-nuevo"></div>
            <button
              class="carrusel-btn"
              data-carrusel="gg-nuevo"
              data-dir="next"
            >
              &gt;
            </button>
          </div>
        </div>
        <div class="carrusel-section">
          <div class="carrusel-title">Lo más vendido</div>
          <div class="carrusel">
            <button
              class="carrusel-btn"
              data-carrusel="gg-destacado"
              data-dir="prev"
            >
              &lt;
            </button>
            <div class="carrusel-imgs" id="gg-destacado"></div>
            <button
              class="carrusel-btn"
              data-carrusel="gg-destacado"
              data-dir="next"
            >
              &gt;
            </button>
          </div>
        </div>
        <div class="carrusel-section">
          <div class="carrusel-title">Entrega inmediata</div>
          <div class="carrusel">
            <button
              class="carrusel-btn"
              data-carrusel="gg-stock"
              data-dir="prev"
            >
              &lt;
            </button>
            <div class="carrusel-imgs" id="gg-stock"></div>
            <button
              class="carrusel-btn"
              data-carrusel="gg-stock"
              data-dir="next"
            >
              &gt;
            </button>
          </div>
        </div>
      </div>

      <!-- Amiri -->
      <div id="marca-amiri" class="marca-section">
        <h2>Amiri</h2>
        <div class="carrusel-section">
          <div class="carrusel-title">Lo más nuevo</div>
          <div class="carrusel">
            <button
              class="carrusel-btn"
              data-carrusel="amiri-nuevo"
              data-dir="prev"
            >
              &lt;
            </button>
            <div class="carrusel-imgs" id="amiri-nuevo"></div>
            <button
              class="carrusel-btn"
              data-carrusel="amiri-nuevo"
              data-dir="next"
            >
              &gt;
            </button>
          </div>
        </div>
        <div class="carrusel-section">
          <div class="carrusel-title">Lo más vendido</div>
          <div class="carrusel">
            <button
              class="carrusel-btn"
              data-carrusel="amiri-destacado"
              data-dir="prev"
            >
              &lt;
            </button>
            <div class="carrusel-imgs" id="amiri-destacado"></div>
            <button
              class="carrusel-btn"
              data-carrusel="amiri-destacado"
              data-dir="next"
            >
              &gt;
            </button>
          </div>
        </div>
        <div class="carrusel-section">
          <div class="carrusel-title">Entrega inmediata</div>
          <div class="carrusel">
            <button
              class="carrusel-btn"
              data-carrusel="amiri-stock"
              data-dir="prev"
            >
              &lt;
            </button>
            <div class="carrusel-imgs" id="amiri-stock"></div>
            <button
              class="carrusel-btn"
              data-carrusel="amiri-stock"
              data-dir="next"
            >
              &gt;
            </button>
          </div>
        </div>
      </div>

      <!-- New Balance -->
      <div id="marca-nb" class="marca-section">
        <h2>New Balance</h2>
        <div class="carrusel-section">
          <div class="carrusel-title">Lo más nuevo</div>
          <div class="carrusel">
            <button
              class="carrusel-btn"
              data-carrusel="nb-nuevo"
              data-dir="prev"
            >
              &lt;
            </button>
            <div class="carrusel-imgs" id="nb-nuevo"></div>
            <button
              class="carrusel-btn"
              data-carrusel="nb-nuevo"
              data-dir="next"
            >
              &gt;
            </button>
          </div>
        </div>
        <div class="carrusel-section">
          <div class="carrusel-title">Lo más vendido</div>
          <div class="carrusel">
            <button
              class="carrusel-btn"
              data-carrusel="nb-destacado"
              data-dir="prev"
            >
              &lt;
            </button>
            <div class="carrusel-imgs" id="nb-destacado"></div>
            <button
              class="carrusel-btn"
              data-carrusel="nb-destacado"
              data-dir="next"
            >
              &gt;
            </button>
          </div>
        </div>
        <div class="carrusel-section">
          <div class="carrusel-title">Entrega inmediata</div>
          <div class="carrusel">
            <button
              class="carrusel-btn"
              data-carrusel="nb-stock"
              data-dir="prev"
            >
              &lt;
            </button>
            <div class="carrusel-imgs" id="nb-stock"></div>
            <button
              class="carrusel-btn"
              data-carrusel="nb-stock"
              data-dir="next"
            >
              &gt;
            </button>
          </div>
        </div>
      </div>
    </main>
    <footer id="contacto">
      <div>© 2025 Buy & Bring. Todos los derechos reservados.</div>
      <div>Contacto: info@buyandbring.com.mx</div>
    </footer>
    <script>
      // Dropdown marcas
      const dropdownBtn = document.getElementById("dropdownBtn");
      const dropdown = document.getElementById("dropdownMarcas");
      const dropdownContent = document.getElementById("dropdownContent");
      dropdownBtn.addEventListener("click", () => {
        dropdown.classList.toggle("open");
        dropdownBtn.classList.toggle("active");
      });
      document.addEventListener("click", (e) => {
        if (!dropdown.contains(e.target)) {
          dropdown.classList.remove("open");
          dropdownBtn.classList.remove("active");
        }
      });

      const marcaLinks = dropdownContent.querySelectorAll("a");
      const marcaSections = document.querySelectorAll(".marca-section");
      marcaLinks.forEach((link) => {
        link.addEventListener("click", (e) => {
          e.preventDefault();
          const marca = link.dataset.marca;
          marcaSections.forEach((sec) => sec.classList.remove("active"));
          document.getElementById("marca-" + marca).classList.add("active");
          dropdown.classList.remove("open");
          dropdownBtn.classList.remove("active");
        });
      });

      document.querySelectorAll(".carrusel-btn").forEach((btn) => {
        btn.addEventListener("click", () => {
          const carruselId = btn.dataset.carrusel;
          const dir = btn.dataset.dir;
          const carrusel = document.getElementById(carruselId);
          const items = carrusel.querySelectorAll(".producto");
          if (dir === "next") {
            carrusel.appendChild(items[0]);
          } else {
            carrusel.insertBefore(items[items.length - 1], items[0]);
          }
        });
      });
    </script>

    <script>
      document.addEventListener("DOMContentLoaded", () => {
        const params = new URLSearchParams(window.location.search);
        const marca = params.get("marca");
        if (marca) {
          const link = document.querySelector(
            `.dropdown-content a[data-marca="${marca}"]`
          );
          if (link) {
            dropdown.classList.add("open");
            dropdownBtn.classList.add("active");
            link.click();
            window.history.replaceState({}, document.title, "catalogo.html");
          }
        }
      });
    </script>

    <script>
      const API_KEY = "AIzaSyDACGXcBsDsfhMzM4_0bvMJu9tzMmyeYrk";

      const DRIVE_FOLDERS = {
        "alo-nuevo": "1yCAFw9mYreUG4IoGTg_VSuuFGy7LEJUE",
        "alo-destacado": "14MUuB2m1fLbDhSNsIXc-vKdV8NkKDRBW",
        "alo-stock": "1giwUto65byeWfPVZA-kIOpI3WK7RH35z",
        "lululemon-nuevo": "11Wmgz47M6iZaEvP7hVl0C3irYBVjX35Y",
        "lululemon-destacado": "123gSxxs-p_5IGYkn1yHsC07fxq7Ggzix",
        "lululemon-stock": "1Z_zP4SegXGNtja7NXk7wBbpYZgFF8DhU",
        "oncloud-nuevo": "1iTIuGkHrtvkWfiGhfQT8cG5rpaf9P8sR",
        "oncloud-destacado": "1sckgqDb7z73qfmB0xBK9JkvEi-ed-ORY",
        "oncloud-stock": "1StAQBQJo5eWCPuG_2i-9sPCEtqg0pY9o",
        "gucci-nuevo": "1bKej9JmTkLFPci6rTX-plI3SQfTtdZ2G",
        "gucci-destacado": "1ZBvWiFZ_-KCsFWheR_y6wCGbBeOzkDBN",
        "gucci-stock": "178tCe3ojB8hEb8naii4YQcHkKt2sTQef",
        "hermes-nuevo": "1hsp7TiKWMJTGjnpwgMlDJv31kURD5nO2",
        "hermes-destacado": "1I1t64ZyqS1myCfaMOm9vIL2RTj1Kk4uu",
        "hermes-stock": "10E4PquCv-UFMcv4IiclvfNSMCrJIj0dF",
        "dior-nuevo": "1r1zAxIAKc_5bcRsUD-zTGwqbJCM94NWX",
        "dior-destacado": "1CwXdET8szqhNk-8mhy8oQXrfVIoOEfgf",
        "dior-stock": "1GOBNSPaSUkqvutjiNbE_7MpscglYqyhw",
        "lv-nuevo": "1jB9cvpPEH3d6hS20O5g_jmO9ECRL0Irb",
        "lv-destacado": "1o783Tz-o0sjrlvZpPv8QjWnKTzYx7I7V",
        "lv-stock": "1BsSfrpDBQn3mTn3BTl21cAfwGDu9BU4z",
        "gg-nuevo": "1woc-E6VfDdlH0eaXhKvHSqylxL-DOUcQ",
        "gg-destacado": "1KSGyFdMbMJEWlU6UMyzFyFmuGTqgANx-",
        "gg-stock": "1WyXH-j-UY13nDmr_Kqr_QNoKab7qJQB4",
        "amiri-nuevo": "1ur-ILyE2P8jWp0wHzT6TzNV1n-L0_GQt",
        "amiri-destacado": "1S1iRFltqhc6vhLFp5ZndrHzbe2aVVgow",
        "amiri-stock": "1KkH8AemzLJGp8VsOuzY9INP4qFXuaOVa",
        "nb-nuevo": "1T1j8qmuJWT8i6pXi0e3YsNlR8hI6Xoga",
        "nb-destacado": "18nCaq5fKQquG_kacCLJh_UZb06XaiXfv",
        "nb-stock": "1OzZYJVaynKoBmSuC1OiS-0aa1SlsyL9o",
      };

      async function fetchDriveImages(folderId) {
        const url = `https://www.googleapis.com/drive/v3/files?q='${folderId}'+in+parents+and+mimeType+contains+'image/'&key=${API_KEY}&fields=files(id,name,webContentLink)`;
        const res = await fetch(url);
        const data = await res.json();
        return data.files || [];
      }

      async function renderDriveImages(containerId, folderId) {
        const images = await fetchDriveImages(folderId);
        const container = document.getElementById(containerId);
        if (!container) return;
        container.innerHTML = "";
        images.forEach((img) => {
          // Construye la URL de visualización pública de Google Drive
          const imgUrl = `https://drive.google.com/uc?export=view&id=${img.id}`;
          const div = document.createElement("div");
          div.className = "producto";
          div.innerHTML = `<img src="${imgUrl}" alt="${img.name}" />`;
          container.appendChild(div);
        });
      }

      document.addEventListener("DOMContentLoaded", () => {
        Object.entries(DRIVE_FOLDERS).forEach(([containerId, folderId]) => {
          renderDriveImages(containerId, folderId);
        });
      });
    </script>
    <script>
      gapi.load("client:auth2", () => {
        gapi.client
          .init({
            apiKey: "AIzaSyDACGXcBsDsfhMzM4_0bvMJu9tzMmyeYrk",
            clientId:
              "510560982096-s4hqs1b9dd7g07259b5uhkruonubo3jc.apps.googleusercontent.com",
            discoveryDocs: [
              "https://www.googleapis.com/discovery/v1/apis/drive/v3/rest",
            ],
            scope: "https://www.googleapis.com/auth/drive.readonly",
          })
          .then(() => {
            // Aquí ya puedes autenticar
            gapi.auth2.getAuthInstance().signIn();
          });
      });
    </script>
  </body>
</html>
